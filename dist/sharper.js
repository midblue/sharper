parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"op4w":[function(require,module,exports) {
const e=process.env.DEBUG;let t=1;const n="[0m",o={red:"[31m",green:"[32m",yellow:"[33m",blue:"[34m",magenta:"[35m",cyan:"[36m",white:"[37m"};function l(e){return 0<=e&&e<10?"0"+e.toString():-10<e&&e<0?"-0"+(-1*e).toString():e.toString()}module.exports=function(n,r="green",c=!1){t<n.length+1&&(t=n.length+1);const g="undefined"!=typeof window;let s=n+" ";for(;s.length<t;)s+=" ";return s+="| ",g?(...e)=>{console.log(`%c${s}%c`,`color: ${r}`,"color: black",...e)}:c&&!e?()=>void 0:(...e)=>{let c=n+" ";for(;c.length<t;)c+=" ";c+="| ";const g=o[r]||o.white,s=new Date,i=l(s.getHours())+":"+l(s.getMinutes())+":"+l(s.getSeconds());console.log(g+(i+" ")+c+"[0m",...e)}};
},{}],"A2T1":[function(require,module,exports) {
var e=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};const r=require("sharp"),t=require("fs"),i=require("path");let o;const s=require.main===module,n=require("./scripts/log"),a=n("success"),u=n("error","red"),c="./",l="resized",p={properties:{source:{required:!0,default:c},outputFolder:{required:!1,default:l},width:{pattern:/^\d*$/,message:"Must be an integer",type:"integer",required:!1},height:{pattern:/^\d*$/,message:"Must be an integer",type:"integer",required:!1}}};function h(){o.get(p,async(e,r)=>{if(e)return e(e);await g(r),h()})}function f(e){return new Promise(async r=>{let t;if(Array.isArray(e)){const r=e.map(async e=>await g(e));(t=await Promise.all(r)).forEach((e,r)=>{0!==r&&Object.keys(e).forEach(r=>{Array.isArray(e[r])?t[0][r].push(...e[r]):Number.isInteger(e[r])&&(t[0][r]+=e[r])})}),t=t[0]}else t=await g(e);r(t)})}function g(r){return new Promise(async t=>{if((r=d(r)).err)return u(r.err),t(r);const o=[],n=[],c=[];let l,p,h;if($(r.source)||P(r.source)){let t,s=[];if($(r.source)){const e=/(.*\/)?([^\/]+\.(?:jpe?g|png))$/gim.exec(r.source);s.push({sourceImage:i.resolve(e[0]),sourceDir:i.resolve(e[1]||"."),fileName:e[2]}),r.overwrite||(t=await I(i.resolve(e[1]||".",r.outputFolder)))}else{const e=await I(r.source);s.push(...e),r.overwrite||(t=await I(i.resolve(r.source,r.outputFolder)))}h=s.length,r.overwrite||(s=q(s,t));const a=await m(s,e({},r));h=h-(l=a.length)-(p=s.length-l),o.push("Resized images:");for(let e of a)n.push(e.source),c.push(e.output),o.push(`   ${e.fileName}`);0===a.length?o.pop():o.push(`to ${i.resolve(r.source,r.outputFolder)}`)}else o.push("Invalid path or image type."),t({err:"Invalid path or image type"});if(o.length>0&&s){console.log("");for(let e of o)a(e);console.log("")}t({source:n,resized:c,success:l,fail:p,skipped:h})})}function d(e){return e.width=parseInt(e.width),e.height=parseInt(e.height),isNaN(e.width)&&delete e.width,isNaN(e.height)&&delete e.height,!0!==e.overwrite&&!1!==e.overwrite&&(e.overwrite=!1),e.source=(e.source||c).replace(/\s+$/g,""),e.outputFolder=(e.outputFolder||l).replace(/^\//g,""),e.width||e.height?e.width<=0||e.height<=0?{err:"Invalid width or height value."}:(0===e.source.length&&(e.source="./"),e):{err:"Must specify at least one valid dimension"}}function m(r,t){return new Promise(async i=>{const o=r.map(async r=>await w(e({},t,{fileName:r.fileName,sourceImage:r.sourceImage,sourceDir:r.sourceDir})));Promise.all(o).then(e=>i(e))})}async function w({sourceImage:e,sourceDir:t,fileName:o,width:s,height:n,outputFolder:a}){const c=i.resolve(t,a),l=c+"/"+o;return await y(c),r(e).resize(s,n).max().toFile(l).then(()=>({source:i.resolve(e),fileName:o,output:l})).catch(e=>u(e))}function y(e){return new Promise(r=>{t.access(e,i=>{i&&"EEXIST"!==i.code?t.mkdir(e,()=>{r()}):r()})})}function v(e){return new Promise(r=>{t.readdir(e,(i,o)=>{if(i){try{t.mkdirSync(e)}catch(i){}r([])}else r(o)})})}async function N(e){const r=e.split("/").filter(e=>e);let t,i="";for(let e of r)i+=e+"/",t=await v(i);return t}function I(e){return new Promise(async r=>{/.*\/$/g.exec(e)||(e+="/");let t=await N(e);if(!Array.isArray(t))return r(t);r(t=t.filter(e=>$(e)).map(r=>({sourceImage:e+r,fileName:r,sourceDir:e})))})}function q(e,r){return e.map(e=>r.find(r=>e.fileName===r.fileName)?null:e).filter(e=>e)}function $(e){return/.+\.(?:jpe?g|png)$/gi.exec(e)}function P(e){return/^(\.*\/)?(?:([^\/\n])*\/)*([^\/.\n])*\/?$|^.$/gi.exec(e)}s&&((o=require("prompt")).start(),h()),module.exports=f;
},{"./scripts/log":"op4w"}]},{},["A2T1"], null)
//# sourceMappingURL=/sharper.map